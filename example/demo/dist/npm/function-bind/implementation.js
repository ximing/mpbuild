var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString,funcType="[object Function]";module.exports=function(n){var o=this;if("function"!=typeof o||toStr.call(o)!==funcType)throw new TypeError(ERROR_MESSAGE+o);for(var e,t,r=slice.call(arguments,1),c=Math.max(0,o.length-r.length),p=[],i=0;i<c;i++)p.push("$"+i);return e=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof e){var t=o.apply(this,r.concat(slice.call(arguments)));return Object(t)===t?t:this}return o.apply(n,r.concat(slice.call(arguments)))}),o.prototype&&((t=function(){}).prototype=o.prototype,e.prototype=new t,t.prototype=null),e};