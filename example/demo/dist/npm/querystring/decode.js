function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e=e||"&");e=1e3;n&&"number"==typeof n.maxKeys&&(e=n.maxKeys);var s=r.length;0<e&&e<s&&(s=e);for(var p=0;p<s;++p){var u,y=r[p].replace(a,"%20"),c=y.indexOf(t),c=0<=c?(u=y.substr(0,c),y.substr(c+1)):(u=y,""),y=decodeURIComponent(u),c=decodeURIComponent(c);hasOwnProperty(o,y)?Array.isArray(o[y])?o[y].push(c):o[y]=[o[y],c]:o[y]=c}return o};